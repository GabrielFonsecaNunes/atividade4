<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Atividade 4</title>
  <link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
  <div class="section">
    <h1>WizardsVideo</h1>
    <p>Danilo Misura de Oliveira          - 11006514</p>
    <p>Gabriel da Fonseca Nunes           - 11201921456<p>
    <p>Thiago Vinicius                    - 112017<p>
  </div>

  <div class="section">
    <h1 class="section-title">Anexos</h1>
    <p class="section-content">
    <p> 

    </p>
    <a href="https://docs.opencv.org/4.x/d1/db7/tutorial_py_histogram_begins.html"> Histograms - 1 : Find, Plot, Analyze !!! </a> 
    </p>
    <p>
      <a href="https://docs.opencv.org/4.x/d5/daf/tutorial_py_histogram_equalization.html"> 
        Histograms - 2: Histogram Equalization </a>
    </p>
    <p>
      <a href="https://docs.opencv.org/4.x/d7/d4d/tutorial_py_thresholding.html"> 
        Image Thresholding </a>
    </p>
    <p>
      <a href="https://docs.opencv.org/4.x/d7/d4d/tutorial_py_thresholding.html"> 
        Repo: Atividade 4 Git Hub </a>
    </p>
  </div>

  <h1>Atividade 4</h1>

  <div class="section">
    <h2 class="section-title">Introdução</h2>
    <p class="section-content">
      O processamento de vídeo desempenha um papel fundamental em diversas áreas, 
      como visão computacional, realidade virtual, jogos, vigilância por vídeo, entre outros. 
      <br>O foco deste laboratório é discutir sobre Histogramas e Métodos de Limiarização<br> 
    </p>
    <p class="section-content">
      <h2 class="section-title">Objetivos</h2>
      <ul class="section-content">
        <li>Compreender os Histogramas de Imagem</li>
        <li>Explorar Equalização de Histogramas</li>
        <li>Aprender analisar Técnicas de Limiarização/Binarização</li>
      </ul>
    </p>
  </div>
  <div class="section">
    <h2 class="section-title">Fundamentos Básicos</h2>
    <p class="section-content">

      <p class="section-content">
        O processamento de vídeo envolve a aplicação de técnicas para manipular, analisar e extrair informações de 
        sequências de imagens em movimento. Para realizar essas tarefas, utilizaremos a biblioteca OpenCV, uma poderosa 
        ferramenta para processamento de imagens e vídeos.       
      </p>
      <p class="section-content">        
        As principais operações básicas que iremos explorar incluem a leitura de imagens e vídeos a partir de arquivos,
        visualização de imagens em janelas, salvamento de imagens em arquivos, captura de imagens da câmera e gravação de vídeos da câmera.
        Além disso, iremos aprender sobre diferentes aspectos, como a velocidade de exibição das imagens em vídeo, a alteração da imagem
        exibida em tempo real, e a realização de operações de processamento de imagem nos programas estudados       
      </p>

      <p class="section-content">        
        Antes de iniciar o trabalho com processamento, é imprescindível obter um melhor entendimento 
        de alguns conceitos fundamentais relacionados ao processamento de vídeo. 
      </p>

      <p class="section-content">
        <b>Imagem e Vídeo</b>: Imagens são representações visuais de objetos, cenas ou fenômenos capturados através de dispositivos ópticos, 
        como câmeras fotográficas ou sensores de imagem. Elas são compostas por uma matriz de elementos chamados de pixels, que são os
        pontos básicos de informação que compõem a imagem.

        Cada pixel contém informações sobre a cor e a intensidade luminosa em um determinado ponto da imagem. Essas informações são armazenadas
        e processadas digitalmente, permitindo a exibição, manipulação e análise das imagens em dispositivos eletrônicos, como computadores, 
        smartphones, tablets e telas de visualização.
        
        As imagens podem ser classificadas em diferentes tipos, como imagens em preto e branco (tons de cinza), imagens em escala de cores 
        (RGB - vermelho, verde e azul) ou imagens em outros espaços de cores, como YUV ou HSV. Além disso, as imagens podem ser estáticas, 
        representando uma única cena, ou sequenciais, formando um vídeo.
        
        No contexto do processamento de vídeo, as imagens são essenciais para realizar diversas tarefas, como detecção de objetos,
        reconhecimento de padrões, análise de movimento, segmentação de objetos, entre outras aplicações. O processamento das imagens
        permite extrair informações relevantes e realizar transformações que podem melhorar sua qualidade, ressaltar características
        ou facilitar a interpretação dos dados visuais.  
      </p>  
      
      <p class="section-content">
        <b>Pixel e Matriz de Pixels</b>: Um pixel é o menor elemento em uma imagem ou quadro de vídeo e representa um valor
        numérico que define sua cor ou intensidade. Uma matriz de pixels é uma grade bidimensional de pixels que compõem uma imagem ou quadro de vídeo.
      </p>

      <p class="section-content">
        <b>Histograma</b>: Um histograma é uma representação gráfica da distribuição das intensidades de cores ou tons de uma imagem. 
        Ele mostra a frequência com que cada valor de intensidade aparece na imagem, ou seja, quantos pixels possuem determinado valor 
        de cor ou tom. Histogramas são frequentemente usados para analisar e entender melhor a composição de uma imagem, como a distribuição
        de brilho, contraste e variação das intensidades.
      </p>

      <p class="section-content">
        <b>Histograma</b>: Um histograma é uma representação gráfica da distribuição das intensidades de cores ou tons de uma imagem. 
        Ele mostra a frequência com que cada valor de intensidade aparece na imagem, ou seja, quantos pixels possuem determinado valor 
        de cor ou tom. Histogramas são frequentemente usados para analisar e entender melhor a composição de uma imagem, como a distribuição
        de brilho, contraste e variação das intensidades.
      </p>

      <p class="section-content">
        <b>Limiarização</b>: Ou thresholding é método com função de separar os objetos de interesse da imagem de seus arredores, criando uma imagem binária
        onde os pixels de interesse estão marcados como brancos (valor 255) e os pixels de fundo são pretos (valor 0).Existem diversos tipos de Limiarização
        ,segue alguns exemplos de Limiarização: Limiarização Global, Limiarização Adaptativa, Limiarização Otsu e Limiarização por Histograma. 
      </p>
      <p class="section-content">
        <b>Binarização</b>: é um método fundamental no processamento de imagem, onde uma imagem em tons de cinza é convertida em uma imagem binária, composta
        apenas por pixels pretos e brancos. Nessa imagem binária, os pixels de interesse são representados como brancos (valor máximo, geralmente 255) e os pixels
        que não fazem parte do objeto de interesse são representados como pretos (valor mínimo, geralmente 0).
      </p>
    </p>
  </div>

  <div class="section">
    <h2 class="section-title">Materiais e Métodos</h2>
    <h2 class="section-title">Materiais</h2>
    <p class="section-content">
      A seguir, apresentamos os materiais utilizados em conjunto com suas respectivas descrições, a fim de criar um ambiente de trabalho adequado para a realização da 
      atividade prática no laboratório de Processamento de Vídeo. Esses materiais possibilitam a aquisição, manipulação e processamento eficiente e preciso de imagens e vídeos:
    </p class="section-content">  
    <p class="section-content">
      <ul class="section-content">
        <li class="item">Sistema Operacional Ubuntu 22.04: O sistema operacional Ubuntu 22.04 é uma distribuição Linux amplamente reconhecida pela sua estabilidade e facilidade de uso. Sua utilização
          no laboratório proporciona um ambiente propício para a execução dos programas e tarefas relacionados ao processamento de vídeo.</li>
        <li class="item">Webcam Digital Usb: Essa webcam é utilizada para realizar aquisição de imagens em tempo real durante as atividades práticas do laboratório.</li>
        <li class="item">Linguagem: Python é uma linguagem de programação popular e de alto nível, amplamente utilizada no processamento de vídeo devido à sua facilidade de uso e à 
          disponibilidade de bibliotecas poderosas. Neste laboratório, é utilizada a versão 3.10 ou superior do Python.</li>
        <li class="item">Bibliotecas OpenCV (4.7), Numpy (1.19.5): O OpenCV (Open Source Computer Vision) é uma biblioteca de código aberto amplamente utilizada para o processamento de
          imagem e vídeo. O Numpy é uma biblioteca para Python que oferece suporte a arrays multidimensionais e funções matemáticas avançadas. Ambas as bibliotecas são utilizadas
          para manipular e processar imagens e vídeos no laboratório.</li>
        <li class="item">IDE Visual Studio Code: Visual Studio Code: O Visual Studio Code é uma IDE (Integrated Development Environment) popular e de código aberto, que fornece um ambiente de
          desenvolvimento completo para escrever, depurar e executar programas em Python. É a IDE escolhida para o desenvolvimento das atividades práticas durante o laboratório.</li>
      </ul>

    </p class="section-content"> 

    <h2 class="section-title">Métodos</h2>
    <p class="section-content">      
      Este relatório foi divido em quadro partes. Nesta primeira parte do laboratório, 1a) Desenvolveremos um programa para fazer a leitura de sua imagem, convertendo para tons de cinza, 
      calcular o histograma, e realizar a equalização do histograma pelo método mais simples. Ao toque de uma tecla, o programa deve salvar a imagem de entrada em cinza e a imagem equalizada, 
      através de comando OpenCV. Salve também as imagens dos gráficos de histograma antes e depois da equalização, através de comando do matplotlib.
      Em seguida, na parte 2, desenvolveremos outro programa para a partir da leitura de imagem com webcam, o programa deve adicionalmente mostrar uma janela ao vivo com a imagem cinza e o resultado da imagem equalizada.
      Em seguida, na parte 3, desenvolveremos outro programa modificando o item (1), realizando a limiarização do tutorial pelo método simple.
      Finalmente, na parte 4, desenvolveremos outro programa modificando o item (1), porém sem converter para cinza, mas agora realizando a equalização nas três cores separadamente, e juntar os canais
      equalizados na imagem colorida de saída.
    </p>
   
    <div class="title">Programa L4_1a.py</div>
    <div class="code-container" id="component-1">
      <textarea readonly>
import cv as cv
import numpy as np

def equalize_image(image):
    # Convert the image to grayscale
    gray_image = cv.cvtColor(image, cv.COLOR_BGR2GRAY)
    
    # Equalize the histogram of the grayscale image
    equalized_image = cv.equalizeHist(gray_image)
    
    # Convert the grayscale equalized image to color (3 channels)
    equalized_image_color = cv.cvtColor(equalized_image, cv.COLOR_GRAY2BGR)
    
    return equalized_image_color

# Initialize the webcam
cap = cv.VideoCapture(0)

while True:
    ret, frame = cap.read()
    
    if not ret:
        break
    
    # Perform histogram equalization
    equalized_frame = equalize_image(frame)
    
    # Display the original and equalized images side by side
    stacked_images = np.hstack((frame, equalized_frame))
    
    cv.imshow("Original vs Equalized", stacked_images)
    
    if cv.waitKey(1) & 0xFF == ord('q'):
        break

# Release the webcam and close the windows
cap.release()
cv.destroyAllWindows()
      </textarea>
      <button class="copy-button" onclick="copyCode('component-1')">Copiar</button>
    </div>
    <div class="title">Original vs Equalized</div>

    <p class="section-content">
      <img src="./img/Original vs Equalized.jpg">
    </p>

    <div class="section-content">
      No programa acima, estamos capturando o vídeo da webcam, aplicando a equalização de histograma à imagem em tons de cinza convertida da captura da câmera e, em seguida, 
      convertendo a imagem equalizada de volta para o formato colorido para exibição. A imagem original e a imagem equalizada são exibidas lado a lado em uma única janela. 
      O loop continua até que a tecla 'q' seja pressionada. 
    </div>
  </div>





  <div class="section">
    <h2 class="section-title">Resultados e Análises</h2>
    <p class="section-content">
      Durante a execução das atividades propostas, foram obtidos os seguintes resultados:
    </p>
    <p class="section-content">
      ...
    </p>
  </div>

  <div class="section">
    <h2 class="section-title">Conclusões e Comentários Finais</h2>
    <p class="section-content">
      Neste laboratório, ... .
    </p>
  </div>

  <script src="src/script.js"></script>

  <div class="references">
    <h2 class="references-title">Referências</h2>
    <ol class="reference-list">
      <li class="reference-item">OpenCV. "Smoothing Images (OpenCV-Python Tutorials)": <link href="https://docs.opencv.org/4.x/d4/d13/tutorial_py_filtering.html"> https://docs.opencv.org/4.x/d4/d13/tutorial_py_filtering.html</li>
      <li class="reference-item"> MINICHINO, J. HOWSE, J., Learning OpenCV 3 Computer Vision with Python, 2nd Ed, Packt
        Publishing, 2015</li>
      <li class="reference-item">Tutorial OpenCV e Python: <link href="https://docs.opencv.org/master/d6/d00/tutorial_py_root.html"> https://docs.opencv.org/master/d6/d00/tutorial_py_root.html  </li>
      <li class="reference-item">Getting Started with Videos: <link href="https://docs.opencv.org/master/d6/d00/tutorial_py_root.html"> https://docs.opencv.org/4.x/dd/d43/tutorial_py_video_display.html</li>
      <li class="reference-item">Getting Started with Images: <link href="https://docs.opencv.org/4.x/db/deb/tutorial_display_image.html"> https://docs.opencv.org/4.x/db/deb/tutorial_display_image.html</li>
    </ol>
  </div>
</body>

</html>